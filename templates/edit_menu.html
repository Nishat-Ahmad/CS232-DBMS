{% extends "base.html" %}

{% block content %}
<h1>Edit Menu</h1>

<form method="POST">
    <!-- Menu Name -->
    <div class="form-group">
        <label for="name">Menu Name</label>
        <input type="text" id="name" name="name" class="form-control" value="{{ menu.name }}" required>
    </div>

    <!-- Start Date -->
    <div class="form-group">
        <label for="start_date">Start Date</label>
        <input type="date" id="start_date" name="start_date" class="form-control" value="{{ datetime.today().strftime('%Y-%m-%d') }}" required>
    </div>



    <!-- Is Template Checkbox -->
    <div class="form-group form-check">
        <input type="checkbox" id="is_template" name="is_template" class="form-check-input" {% if menu.is_template %}checked{% endif %}>
        <label class="form-check-label" for="is_template">Is Template?</label>
    </div>

    <hr>

    <!-- Days of the Week -->
    {% for menu_day in menu_days %}
    <div class="form-group">
        <label>{{ menu_day.day_of_week.capitalize() }}:</label>

        <!-- Breakfast -->
        <div class="form-group">
            <label for="{{ menu_day.day_of_week }}_breakfast">Breakfast</label>
            <select id="{{ menu_day.day_of_week }}_breakfast" name="{{ menu_day.day_of_week }}_breakfast" class="form-control" required>
                <option value="">Select Breakfast</option>
                {% for meal in meals %}
                <option value="{{ meal.id }}" {% if meal.id == menu_day.breakfast_id %}selected{% endif %}>{{ meal.name }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Lunch -->
        <div class="form-group">
            <label for="{{ menu_day.day_of_week }}_lunch">Lunch</label>
            <select id="{{ menu_day.day_of_week }}_lunch" name="{{ menu_day.day_of_week }}_lunch" class="form-control" required>
                <option value="">Select Lunch</option>
                {% for meal in meals %}
                <option value="{{ meal.id }}" {% if meal.id == menu_day.lunch_id %}selected{% endif %}>{{ meal.name }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Dinner -->
        <div class="form-group">
            <label for="{{ menu_day.day_of_week }}_dinner">Dinner</label>
            <select id="{{ menu_day.day_of_week }}_dinner" name="{{ menu_day.day_of_week }}_dinner" class="form-control" required>
                <option value="">Select Dinner</option>
                {% for meal in meals %}
                <option value="{{ meal.id }}" {% if meal.id == menu_day.dinner_id %}selected{% endif %}>{{ meal.name }}</option>
                {% endfor %}
            </select>
        </div>
    </div>
    <hr>
    {% endfor %}

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary">Update Menu</button>
</form>

{% if messages %}
    <div class="alert alert-info">
        {% for message in messages %}
            <p>{{ message }}</p>
        {% endfor %}
    </div>
{% endif %}

{% endblock %}
